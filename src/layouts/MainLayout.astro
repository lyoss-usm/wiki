---
import "../styles/global.css";
import Navigation from "../components/Navigation.astro";
import ThemeSelector from "../components/ThemeSelector.astro";

interface Props {
  title?: string;
}

const { title = "Docs" } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title} | Lyoss</title>
    <script is:inline>
      // Aplicar tema antes de que se renderice la página para evitar flash
      const savedTheme =
        localStorage.getItem("wiki-theme") || "lyoss-fusion-vivid";
      document.documentElement.setAttribute("data-theme", savedTheme);
    </script>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <a href="/" class="logo">
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <circle cx="12" cy="12" r="10"></circle>
          </svg>
          <span>Docs</span>
        </a>
        <div class="breadcrumb">
          <span class="breadcrumb-separator">/</span>
          <a href="/getting-started">Getting started</a>
          <span class="breadcrumb-separator">/</span>
          <span class="breadcrumb-current">Start Guide</span>
        </div>
      </div>
      <div class="header-center">
        <div class="search-box">
          <svg
            class="search-icon"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input type="text" placeholder="Search docs..." />
          <span class="search-shortcut">⌘K</span>
        </div>
      </div>
      <div class="header-right">
        <ThemeSelector />
        <button class="header-btn copy-btn">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
            ></path>
          </svg>
          <span>Copy page</span>
          <svg
            width="12"
            height="12"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="m6 9 6 6 6-6"></path>
          </svg>
        </button>
        <a href="/signup" class="signup-btn">Sign up</a>
      </div>
    </header>

    <!-- Main Layout -->
    <div class="main-container">
      <!-- Left Sidebar -->
      <Navigation />

      <!-- Main Content -->
      <main class="content">
        <slot />
      </main>

      <!-- Right Sidebar -->
      <aside class="right-sidebar">
        <div class="toc-section">
          <div class="toc-tree">
            <div class="toc-parent">Comandos básicos</div>
            <div class="toc-branch">
              <div class="toc-child">
                <span class="tree-line">├──</span> Navegación del sistema
              </div>
              <div class="toc-child">
                <span class="tree-line">└──</span> Gestión de archivos
              </div>
            </div>
          </div>
          <div class="toc-tree">
            <div class="toc-parent">Gestión de paquetes</div>
            <div class="toc-branch">
              <div class="toc-child">
                <span class="tree-line">├──</span> APT (Debian/Ubuntu)
              </div>
              <div class="toc-child">
                <span class="tree-line">└──</span> Pacman (Arch)
              </div>
            </div>
          </div>
          <div class="toc-tree">
            <div class="toc-parent">Permisos y usuarios</div>
            <div class="toc-branch">
              <div class="toc-child">
                <span class="tree-line">├──</span> chmod y chown
              </div>
              <div class="toc-child">
                <span class="tree-line">└──</span> Gestión de usuarios
              </div>
            </div>
          </div>
        </div>
        <div class="share-section">
          <a href="#" class="share-link">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
              ></path>
            </svg>
            <span>Copy as markdown</span>
          </a>
          <a href="#" class="share-link">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"
              ><path
                d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.8956zm16.0993 3.8558L12.6 8.3829l2.02-1.1638a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"
              ></path></svg
            >
            <span>Open in ChatGPT</span>
          </a>
          <a href="#" class="share-link">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"
              ><path
                d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7l-2 3v1h8v-1l-2-3h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H3V4h18v12z"
              ></path></svg
            >
            <span>Open in Claude</span>
          </a>
          <a href="#" class="share-link">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              ><path
                d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"
              ></path></svg
            >
            <span>Open in Cursor</span>
          </a>
          <a href="#" class="share-link">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"
              ><circle cx="12" cy="12" r="10"></circle></svg
            >
            <span>Open in DeepSeek</span>
          </a>
          <a href="#" class="share-link">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"
              ><path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"
              ></path></svg
            >
            <span>Open in Gemini</span>
          </a>
          <a href="#" class="share-link">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"
              ><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"
              ></path></svg
            >
            <span>Open in Grok</span>
          </a>
          <a href="#" class="share-link">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              ><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"
              ></path></svg
            >
            <span>Open in Perplexity</span>
          </a>
          <a href="#" class="share-link">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"
              ><path
                d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"
              ></path></svg
            >
            <span>Open in T3 Chat</span>
          </a>
        </div>
      </aside>
    </div>
  </body>
</html>

<style>
  html,
  body {
    margin: 0;
    width: 100%;
    height: 100%;
  }

  /* Header Styles */
  .header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 56px;
    background: var(--bg-nav);
    border-bottom: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
    z-index: 100;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .header-left {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .logo {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--text-primary);
    font-weight: 700;
    font-size: 16px;
    text-decoration: none;
    padding: 6px 12px;
    border-radius: 8px;
    transition: all 0.2s ease;
  }

  .logo svg {
    color: var(--accent-primary);
  }

  .logo:hover {
    text-decoration: none;
    background: var(--bg-hover);
  }

  .breadcrumb {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    padding-left: 12px;
    border-left: 1px solid var(--border-color);
  }

  .breadcrumb-separator {
    color: var(--text-muted);
  }

  .breadcrumb a {
    color: var(--text-secondary);
    transition: color 0.2s ease;
  }

  .breadcrumb a:hover {
    color: var(--accent-primary);
  }

  .breadcrumb-current {
    color: var(--text-muted);
  }

  .header-center {
    flex: 1;
    display: flex;
    justify-content: center;
    max-width: 480px;
    margin: 0 auto;
  }

  .search-box {
    display: flex;
    align-items: center;
    gap: 10px;
    background: var(--bg-tertiary);
    border: 1px solid var(--border-color);
    border-radius: 10px;
    padding: 8px 14px;
    width: 100%;
    transition: all 0.2s ease;
  }

  .search-box:focus-within {
    border-color: var(--accent-primary);
    box-shadow: 0 0 0 3px var(--glow-primary, rgba(91, 156, 245, 0.15));
  }

  .search-icon {
    color: var(--text-muted);
  }

  .search-box input {
    background: transparent;
    border: none;
    outline: none;
    color: var(--text-primary);
    font-size: 14px;
    flex: 1;
  }

  .search-box input::placeholder {
    color: var(--text-muted);
  }

  .search-shortcut {
    font-size: 11px;
    color: var(--text-muted);
    background: var(--bg-secondary);
    padding: 3px 8px;
    border-radius: 6px;
    font-weight: 500;
    border: 1px solid var(--border-color);
  }

  .header-right {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .header-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 8px 12px;
    color: var(--text-secondary);
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .header-btn:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
    border-color: var(--accent-primary);
  }

  .icon-btn {
    padding: 8px 10px;
  }

  .signup-btn {
    background: var(--gradient-primary);
    color: var(--bg-primary);
    border: none;
    border-radius: 8px;
    padding: 8px 16px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .signup-btn:hover {
    opacity: 0.9;
    text-decoration: none;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px var(--glow-primary, rgba(91, 156, 245, 0.3));
  }

  /* Main Container */
  .main-container {
    display: flex;
    margin-top: 56px;
    min-height: calc(100vh - 56px);
  }

  /* Content */
  .content {
    flex: 1;
    padding: 48px 64px;
    max-width: 850px;
    margin: 0 auto;
  }

  /* Right Sidebar */
  .right-sidebar {
    width: 260px;
    padding: 28px 20px;
    border-left: 1px solid var(--border-color);
    position: sticky;
    top: 56px;
    height: calc(100vh - 56px);
    overflow-y: auto;
    background: var(--bg-primary);
  }

  /* Scrollbar para right-sidebar */
  .right-sidebar::-webkit-scrollbar {
    width: 6px;
  }

  .right-sidebar::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 3px;
  }

  .toc-section {
    margin-bottom: 28px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--border-color);
  }

  .toc-tree {
    margin-bottom: 12px;
  }

  .toc-parent {
    font-size: 13px;
    color: var(--text-primary);
    font-weight: 500;
    padding: 6px 0;
  }

  .toc-branch {
    margin-left: 12px;
    border-left: 1px solid var(--border-color);
    padding-left: 12px;
  }

  .toc-child {
    font-size: 12px;
    color: var(--text-secondary);
    padding: 4px 0;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: color 0.2s ease;
    cursor: pointer;
  }

  .toc-child:hover {
    color: var(--accent-primary);
  }

  .tree-line {
    font-family: var(--font-mono);
    color: var(--accent-tertiary);
    font-size: 10px;
    user-select: none;
    opacity: 0.6;
  }

  .share-section {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .share-link {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 10px;
    color: var(--text-secondary);
    font-size: 13px;
    border-radius: 8px;
    transition: all 0.2s ease;
  }

  .share-link:hover {
    background: var(--bg-hover);
    color: var(--accent-primary);
    text-decoration: none;
  }

  .share-link svg {
    opacity: 0.6;
    transition: opacity 0.2s ease;
  }

  .share-link:hover svg {
    opacity: 1;
  }

  /* Responsive */
  @media (max-width: 1200px) {
    .right-sidebar {
      display: none;
    }
  }

  @media (max-width: 768px) {
    .header-center {
      display: none;
    }

    .breadcrumb {
      display: none;
    }

    .content {
      padding: 24px 20px;
    }
  }
</style>
